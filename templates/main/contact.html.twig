{% extends "base.html.twig" %}

{% block body %}
<div class="container-fluid">
    {% for messageEmail in app.flashes('email') %}
        <div class="alert alert-success text-center" role="alert">{{messageEmail}}</div>
    {% endfor %}
    <div class="container-fluid text-center">
        {# <img class="text-center" src="{{ asset('images/calcmaps-map-radius-173805-27102021.png') }}" alt="carte géographique" style="margin: auto;margin-top:3em;"> #}
        <div class="mapouter" style="margin: auto;margin-top:3em;">
            <div class="gmap_canvas"><iframe width="1080" height="196" id="gmap_canvas" src="https://maps.google.com/maps?q=2880%20Broadway,%20New%20York&t=&z=13&ie=UTF8&iwloc=&output=embed" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe><a href="https://123movies-to.org"></a><br><style>.mapouter{position:relative;text-align:right;height:196px;width:1080px;}</style><a href="https://www.embedgooglemap.net">embedgooglemap.net</a><style>.gmap_canvas {overflow:hidden;background:none!important;height:196px;width:1080px;}</style></div>
        </div>
        <div class="text-center salmon">
            <p>Je me déplace dans un périmètre de 15km autour de mon domicile.</p>
        </div>
    </div>
    <div class="container"> 
        <div class="row">
            <h2 class="salmon">Contactez-moi:</h2>
            {{ form_start(form) }}
            {{ form_row(form.email) }}
            {{ form_row(form.prenom) }}
            {{ form_row(form.nom) }}
            {{ form_row(form.tel) }}

            <label for="oneToOne" class="control-label salmon" style="margin-top: 1em;">Choisissez votre formule:</label>
            {{ form_row(form.formule) }}

            <label for="support" class="control-label salmon" style="margin-bottom: 1em;margin-top:0">Choisissez votre support de travail:</label>
            {{ form_row(form.support) }}

            {# <div class="form-row">
                <div class="custom-control custom-checkbox mb-3">
                    <input type="checkbox" class="custom-control-input" id="test1" name="test1" required value="En visio" onchange="checkRequired();">
                    <label class="custom-control-label" for="test1">En visio</label>
                </div>

            </div>
            <div class="form-row">
                <div class="custom-control custom-checkbox mb-3">
                    <input type="checkbox" class="custom-control-input" id="test2" name="test2" required value="A domicile" onchange="checkRequired();">
                    <label class="custom-control-label" for="test2">A domicile</label>
                </div>

            </div> #}
            {{ form_row(form.sujet) }}
            {{ form_row(form.message) }}
            {{ form_row(form.Envoyer) }}
            {{ form_end(form) }}
        </div>
    </div>
</div>
{% endblock %}

{% block javascripts %}
    <script>
        console.log('coucou');
        window.onload = () => {
            
            function checkRequired() {
                if (document.querySelectorAll('input[type=checkbox]:checked').length > 0) {  // the "> 0" part is unnecessary, actually
                    document.querySelectorAll('input[type=checkbox]').prop('required', false);
                } else {
                    document.querySelectorAll('input[type=checkbox]').prop('required', true);
                }

            }
        }
    </script>

{% endblock %}